--- Makefile.orig	2023-11-02 17:07:04 UTC
+++ Makefile
@@ -1,10 +1,10 @@
 CC       =	c++
-CFLAGS   =	-O2 -Wall -Wunused -lpthread `fltk-config --use-images --cxxflags --ldflags` \
+CFLAGS   +=	-Wall -Wunused -lpthread `fltk-config --use-images --cxxflags --ldflags` \
 			--std=c++11 -finline-functions
 DEBUGFLGS=	-g -O0
 BINDIR   = /usr/local/bin
 TARGET   =	spiritvnc-fltk
-SRC 	 =	`ls src/*.cxx`
+SRC 	 =	$(wildcard src/*.cxx)
 PKGCONF  =	`which pkg-config`
 LIBVNC	 =
 OSNAME   = $(shell uname -s)
@@ -17,6 +17,8 @@ else
 	LIBVNC = `pkg-config --cflags --libs libvncclient libvncserver`
 endif
 
+all: spiritvnc-fltk
+
 spiritvnc-fltk:
 	@echo "Building on '$(OSNAME)'"
 	@echo ""
@@ -47,7 +49,7 @@ clean::
 	rm -f $(TARGET)
 
 install:
-	install -c -s -o root -m 555 $(TARGET) $(BINDIR)
+	$(BSD_INSTALL_PROGRAM) $(TARGET) $(DESTDIR)$(BINDIR)/spiritvnc
 
 uninstall:
 	@if [ -f $(BINDIR)"/"$(TARGET) ] ; then \
